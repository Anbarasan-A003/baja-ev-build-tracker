<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EV Build Tracker — Phenix Racing</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <header>
      <h1>Phenix Racing — EV Build Tracker</h1>
      <div id="userBox" class="small">Not signed in</div>
      <div style="margin-left:auto">
        <button id="loginBtn">Login</button>
        <button id="logoutBtn" style="display:none">Logout</button>
      </div>
    </header>

    <!-- 3 COLUMN GRID -->
    <main class="grid3">

      <!-- LEFT COLUMN: ADD ENTRY -->
      <section class="left card">
        <h2>Add Entry</h2>

        <label>Section
          <select id="section">
            <option>Chassis</option>
            <option>Suspension</option>
            <option>Steering</option>
            <option>Battery Pack</option>
            <option>Motor</option>
            <option>Powertrain</option>
            <option>BMS</option>
            <option>Wiring</option>
            <option>Controls</option>
            <option>Brakes</option>
            <option>Body Panels</option>
            <option>Testing</option>
            <option>Issues</option>
            <option>Items to Purchase</option>
            <option>Purchased Items</option>
          </select>
        </label>

        <label>Title
          <input id="title" type="text" />
        </label>

        <label>Description
          <textarea id="description"></textarea>
        </label>

        <label>Assignee
          <input id="assignee" placeholder="Optional" />
        </label>

        <label>Status
          <select id="status">
            <option>Pending</option>
            <option>In Progress</option>
            <option>Done</option>
          </select>
        </label>

        <label>Completion (%)
          <input id="percent" type="number" min="0" max="100" value="0" />
        </label>

        <label>Amount (₹)
          <input id="amount" type="number" min="0" step="0.01" value="0" />
        </label>

        <label>Images
          <input id="images" type="file" multiple accept="image/*" />
        </label>

        <div class="btns">
          <button id="addBtn">Add Entry</button>
          <button id="refreshBtn">Refresh</button>
          <button id="exportBtn">Export JSON</button>
        </div>
      </section>

      <!-- MIDDLE COLUMN: PURCHASE MANAGER -->
      <section class="mid card">
        <h2>Purchase Manager</h2>

        <h3>Items To Purchase</h3>
        <div id="pmToBuy" class="pmList"></div>

        <h3 style="margin-top:16px;">Purchased Items</h3>
        <div id="pmPurchased" class="pmList"></div>
      </section>

      <!-- RIGHT COLUMN: DASHBOARDS -->
      <section class="right card">
        <div class="dashCard">
          <h3>Work Tracking</h3>
          <div id="workTracking"></div>
        </div>

        <div class="dashCard">
          <h3>Cost Summary</h3>
          <div id="costSummaryContainer"></div>
        </div>

        <h3 style="margin-top:20px;">Timeline</h3>
        <div id="timeline" style="max-height:160px; overflow:auto;"></div>

        <h3 style="margin-top:20px;">All Entries</h3>
        <div id="entries" style="max-height:260px;overflow:auto;"></div>
      </section>
    </main>
  </div>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal" aria-hidden="true">
    <div class="modalCard">
      <h3>Login</h3>
      <label>Username <input id="loginUsername" /></label>
      <label>Password <input id="loginPassword" type="password" /></label>
      <div class="btns">
        <button id="doLogin">Login</button>
        <button id="closeLogin">Close</button>
      </div>
      <div class="small muted" style="margin-top:8px">
        Demo users: captain/captain123, elec/elec123, mech/mech123, driver/driver123
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
